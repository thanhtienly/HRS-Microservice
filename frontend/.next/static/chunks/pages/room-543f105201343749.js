(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[361],{3049:(e,l,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/room",function(){return t(4321)}])},3451:()=>{},4321:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>i});var o=t(7876),s=t(6102),r=t(4232);function a(e){let{onQueryChange:l}=e,[t,s]=(0,r.useState)(""),[a,n]=(0,r.useState)(""),[i,c]=(0,r.useState)([]),[d,h]=(0,r.useState)([]);return(0,r.useEffect)(()=>{(async()=>await fetch("".concat("http://localhost:3001","/room/type")).then(e=>e.json()).then(e=>{if(null==e?void 0:e.data)return null==e?void 0:e.data}).catch(e=>{console.log(e)}))().then(e=>{h(e)}).catch(e=>{console.log(e)})},[]),(0,r.useEffect)(()=>{(async()=>await fetch("".concat("http://localhost:3001","/self-study-area")).then(e=>e.json()).then(e=>{if(null==e?void 0:e.data)return null==e?void 0:e.data}).catch(e=>{console.log(e)}))().then(e=>{c(e)}).catch(e=>{console.log(e)})},[]),(0,o.jsxs)("div",{className:"w-full lg:w-fit lg:min-w-xs lg:h-fit mt-[20] flex flex-col bg-slate-900 p-4 rounded-lg",children:[(0,o.jsxs)("div",{className:"flex flex-col text-sm",children:[(0,o.jsx)("label",{htmlFor:"building-select",className:"mb-1 text-xs font-semibold text-yellow-400",children:"Choose building"}),(0,o.jsxs)("select",{name:"building-select",id:"building-select",className:"w-full border-[1] p-1 rounded-sm text-white bg-slate-950 outline-none hover:border-yellow-400",onChange:e=>{s(e.target.value)},defaultValue:"",children:[(0,o.jsx)("option",{value:"",disabled:!0,className:"hidden"}),i.map(e=>(0,o.jsxs)("option",{value:e.id,children:["Building ",e.building]},e.id))]})]}),(0,o.jsxs)("div",{className:"flex flex-col mt-3 text-sm",children:[(0,o.jsx)("label",{htmlFor:"date-select",className:"mb-1 text-xs font-semibold text-yellow-400",children:"Choose room type"}),(0,o.jsxs)("select",{name:"room-type-select",id:"room-type-select",className:"w-full border-[1] p-1 rounded-sm text-white bg-slate-950 outline-none hover:border-yellow-400",onChange:e=>{n(e.target.value)},defaultValue:"",children:[(0,o.jsx)("option",{value:"",disabled:!0,className:"hidden"}),d.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsx)("div",{className:"flex justify-center mt-3 text-sm",children:(0,o.jsx)("button",{className:"pt-2 pb-2 pl-4 pr-4 bg-white text-black rounded-lg cursor-pointer hover:bg-yellow-400",onClick:()=>{l(a,t)},children:"Search"})})]})}function n(e){return(0,o.jsx)("div",{className:"w-full sm:w-fit h-fit flex flex-col justify-center p-4 mb-[20] sm:ml-[0] sm:mr-[30] border-[1] rounded-lg",children:(0,o.jsxs)("div",{className:"w-full flex flex-col mt-2",children:[(0,o.jsxs)("p",{id:"roomName",children:[(0,o.jsx)("b",{children:"Room Name:"})," ",e.roomName]}),(0,o.jsxs)("p",{id:"building",children:[(0,o.jsx)("b",{children:"Building:"})," ",e.roomBuilding]}),(0,o.jsxs)("p",{id:"roomFloor",children:[(0,o.jsx)("b",{children:"Floor:"})," ",e.roomFloor]}),(0,o.jsxs)("p",{id:"roomType",children:[(0,o.jsx)("b",{children:"Room type:"})," ",e.roomType]}),(0,o.jsxs)("p",{id:"roomCapacity",children:[(0,o.jsx)("b",{children:"Capacity:"})," ",e.roomCapacity]}),(0,o.jsx)("div",{className:"w-full flex justify-center mt-2",children:(0,o.jsx)("a",{href:"/room/".concat(e.roomId),className:"pt-2 pb-2 pl-4 pr-4 bg-slate-900 text-white rounded-lg hover:bg-yellow-400 hover:text-black",children:"Book now"})})]})})}function i(){let[e,l]=(0,r.useState)(""),[t,i]=(0,r.useState)(""),[c,d]=(0,r.useState)([]);return(0,r.useEffect)(()=>{if(""!=e&&""!=t)return void(async()=>await fetch("".concat("http://localhost:3001","/room?ssaId=").concat(t,"&roomType=").concat(e)).then(e=>e.json()).then(e=>{if(e.success)return e.data}).catch(e=>{}))().then(e=>{d(e)}).catch(e=>{console.log(e)})},[e,t]),(0,o.jsxs)("div",{className:"w-full lg:h-screen lg:overflow-hidden",children:[(0,o.jsx)(s.A,{}),(0,o.jsxs)("div",{className:"w-full lg:h-screen flex flex-col lg:flex-row pt-[80] pl-[20] pr-[20]",children:[(0,o.jsx)(a,{onQueryChange:(e,t)=>{l(e),i(t)}}),(0,o.jsx)("div",{className:"w-full lg:h-screen lg:overflow-scroll mt-[20] lg:pl-[50] flex flex-row flex-wrap justify-center md:justify-start content-start",children:c.map(e=>(0,o.jsx)(n,{roomName:e.name,roomBuilding:e.building,roomFloor:e.floor,roomCapacity:e.capacity,roomType:e.type,roomId:e.id},e.id))})]})]})}t(3451)},6102:(e,l,t)=>{"use strict";t.d(l,{A:()=>d});var o=t(7876);t(3451);var s=t(4587),r=t.n(s),a=t(9840),n=t(4232),i=t(9099),c=t(8248);function d(){let e=(0,i.useRouter)(),l=(0,c.useGetCookie)(),t=(0,c.useDeleteCookie)(),[s,d]=(0,n.useState)(!0),[h,m]=(0,n.useState)(!1),u=()=>{if(window.innerWidth<1280)return void d(!0);d(!1)};return(0,n.useEffect)(()=>{l("accessToken")&&m(!0)},[l]),(0,n.useEffect)(()=>{u()},[]),(0,n.useEffect)(()=>(window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)),[]),(0,o.jsxs)("nav",{className:"fixed w-full bg-slate-900 p-2 flex flex-wrap items-center xl:flex-row sm:flex-col z-100",children:[(0,o.jsxs)("div",{className:"logo-container flex flex-row w-full xl:w-1/3",children:[(0,o.jsx)("div",{className:"wrap-logo w-1/2",children:(0,o.jsx)("a",{href:"/",className:"flex max-w-fit",children:(0,o.jsx)(r(),{src:"/logo.jpg",alt:"Logo",width:100,height:50,className:"ml-4"})})}),(0,o.jsx)("div",{className:"wrap-expand w-1/2 flex justify-end xl:hidden",children:(0,o.jsx)("div",{onClick:()=>{if(s)return void d(!s);d(!s)},children:(0,o.jsx)(a.A,{fontSize:"large",className:"cursor-pointer",sx:{color:"white"}})})})]}),(0,o.jsxs)("div",{className:"page flex flex-col justify-start xl:flex-row xl:justify-center w-full xl:w-1/3 ".concat(s?"hidden":""),children:[(0,o.jsx)("a",{href:"/room",className:"ml-4 mr-4 mt-1 mb-1 p-2 cursor-pointer text-white hover:bg-yellow-400 hover:text-slate-950 hover:rounded-md",children:"Booking"}),(0,o.jsx)("a",{href:"/booking-history",className:"ml-4 mr-4 mt-1 mb-1 p-2 cursor-pointer text-white hover:bg-yellow-400 hover:text-slate-950 hover:rounded-md",children:"History"})]}),(0,o.jsxs)("div",{className:"auth flex justify-start xl:justify-end w-full xl:w-1/3 ".concat(s?"hidden":""),children:[!1==h&&(0,o.jsx)("a",{className:"ml-4 mr-4 mt-1 mb-1 cursor-pointer pt-2 pb-2 pl-4 pr-4 bg-white text-slate-950 rounded-lg hover:bg-yellow-400",href:"/login",children:"Login"}),h&&(0,o.jsx)("button",{className:"ml-4 mr-4 mt-1 mb-1 cursor-pointer pt-2 pb-2 pl-4 pr-4 bg-white text-slate-950 rounded-lg hover:bg-yellow-400",onClick:()=>{t("accessToken"),t("refreshToken"),console.log("Reload"),e.reload()},children:"Logout"})]})]})}}},e=>{var l=l=>e(e.s=l);e.O(0,[327,3,636,593,792],()=>l(3049)),_N_E=e.O()}]);